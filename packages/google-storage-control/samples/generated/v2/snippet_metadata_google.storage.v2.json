{
  "clientLibrary": {
    "name": "nodejs-storage",
    "version": "0.1.0",
    "language": "TYPESCRIPT",
    "apis": [
      {
        "id": "google.storage.v2",
        "version": "v2"
      }
    ]
  },
  "snippets": [
    {
      "regionTag": "storage_v2_generated_Storage_DeleteBucket_async",
      "title": "Storage deleteBucket Sample",
      "origin": "API_DEFINITION",
      "description": " Permanently deletes an empty bucket. The request fails if there are any live or noncurrent objects in the bucket, but the request succeeds if the bucket only contains soft-deleted objects or incomplete uploads, such as ongoing XML API multipart uploads. Does not permanently delete soft-deleted objects. When this API is used to delete a bucket containing an object that has a soft delete policy enabled, the object becomes soft deleted, and the `softDeleteTime` and `hardDeleteTime` properties are set on the object. Objects and multipart uploads that were in the bucket at the time of deletion are also retained for the specified retention duration. When a soft-deleted bucket reaches the end of its retention duration, it is permanently deleted. The `hardDeleteTime` of the bucket always equals or exceeds the expiration time of the last soft-deleted object in the bucket. **IAM Permissions**: Requires `storage.buckets.delete` IAM permission on the bucket.",
      "canonical": true,
      "file": "storage.delete_bucket.js",
      "language": "JAVASCRIPT",
      "segments": [
        {
          "start": 25,
          "end": 62,
          "type": "FULL"
        }
      ],
      "clientMethod": {
        "shortName": "DeleteBucket",
        "fullName": "google.storage.v2.Storage.DeleteBucket",
        "async": true,
        "parameters": [
          {
            "name": "name",
            "type": "TYPE_STRING"
          },
          {
            "name": "if_metageneration_match",
            "type": "TYPE_INT64"
          },
          {
            "name": "if_metageneration_not_match",
            "type": "TYPE_INT64"
          }
        ],
        "resultType": ".google.protobuf.Empty",
        "client": {
          "shortName": "StorageClient",
          "fullName": "google.storage.v2.StorageClient"
        },
        "method": {
          "shortName": "DeleteBucket",
          "fullName": "google.storage.v2.Storage.DeleteBucket",
          "service": {
            "shortName": "Storage",
            "fullName": "google.storage.v2.Storage"
          }
        }
      }
    },
    {
      "regionTag": "storage_v2_generated_Storage_GetBucket_async",
      "title": "Storage getBucket Sample",
      "origin": "API_DEFINITION",
      "description": " Returns metadata for the specified bucket. **IAM Permissions**: Requires `storage.buckets.get` IAM permission on the bucket. Additionally, to return specific bucket metadata, the authenticated user must have the following permissions: - To return the IAM policies: `storage.buckets.getIamPolicy` - To return the bucket IP filtering rules: `storage.buckets.getIpFilter`",
      "canonical": true,
      "file": "storage.get_bucket.js",
      "language": "JAVASCRIPT",
      "segments": [
        {
          "start": 25,
          "end": 69,
          "type": "FULL"
        }
      ],
      "clientMethod": {
        "shortName": "GetBucket",
        "fullName": "google.storage.v2.Storage.GetBucket",
        "async": true,
        "parameters": [
          {
            "name": "name",
            "type": "TYPE_STRING"
          },
          {
            "name": "if_metageneration_match",
            "type": "TYPE_INT64"
          },
          {
            "name": "if_metageneration_not_match",
            "type": "TYPE_INT64"
          },
          {
            "name": "read_mask",
            "type": ".google.protobuf.FieldMask"
          }
        ],
        "resultType": ".google.storage.v2.Bucket",
        "client": {
          "shortName": "StorageClient",
          "fullName": "google.storage.v2.StorageClient"
        },
        "method": {
          "shortName": "GetBucket",
          "fullName": "google.storage.v2.Storage.GetBucket",
          "service": {
            "shortName": "Storage",
            "fullName": "google.storage.v2.Storage"
          }
        }
      }
    },
    {
      "regionTag": "storage_v2_generated_Storage_CreateBucket_async",
      "title": "Storage createBucket Sample",
      "origin": "API_DEFINITION",
      "description": " Creates a new bucket. **IAM Permissions**: Requires `storage.buckets.create` IAM permission on the bucket. Additionally, to enable specific bucket features, the authenticated user must have the following permissions: - To enable object retention using the `enableObjectRetention` query parameter: `storage.buckets.enableObjectRetention` - To set the bucket IP filtering rules: `storage.buckets.setIpFilter`",
      "canonical": true,
      "file": "storage.create_bucket.js",
      "language": "JAVASCRIPT",
      "segments": [
        {
          "start": 25,
          "end": 88,
          "type": "FULL"
        }
      ],
      "clientMethod": {
        "shortName": "CreateBucket",
        "fullName": "google.storage.v2.Storage.CreateBucket",
        "async": true,
        "parameters": [
          {
            "name": "parent",
            "type": "TYPE_STRING"
          },
          {
            "name": "bucket",
            "type": ".google.storage.v2.Bucket"
          },
          {
            "name": "bucket_id",
            "type": "TYPE_STRING"
          },
          {
            "name": "predefined_acl",
            "type": "TYPE_STRING"
          },
          {
            "name": "predefined_default_object_acl",
            "type": "TYPE_STRING"
          },
          {
            "name": "enable_object_retention",
            "type": "TYPE_BOOL"
          }
        ],
        "resultType": ".google.storage.v2.Bucket",
        "client": {
          "shortName": "StorageClient",
          "fullName": "google.storage.v2.StorageClient"
        },
        "method": {
          "shortName": "CreateBucket",
          "fullName": "google.storage.v2.Storage.CreateBucket",
          "service": {
            "shortName": "Storage",
            "fullName": "google.storage.v2.Storage"
          }
        }
      }
    },
    {
      "regionTag": "storage_v2_generated_Storage_ListBuckets_async",
      "title": "Storage listBuckets Sample",
      "origin": "API_DEFINITION",
      "description": " Retrieves a list of buckets for a given project, ordered lexicographically by name. **IAM Permissions**: Requires `storage.buckets.list` IAM permission on the bucket. Additionally, to enable specific bucket features, the authenticated user must have the following permissions: - To list the IAM policies: `storage.buckets.getIamPolicy` - To list the bucket IP filtering rules: `storage.buckets.getIpFilter`",
      "canonical": true,
      "file": "storage.list_buckets.js",
      "language": "JAVASCRIPT",
      "segments": [
        {
          "start": 25,
          "end": 83,
          "type": "FULL"
        }
      ],
      "clientMethod": {
        "shortName": "ListBuckets",
        "fullName": "google.storage.v2.Storage.ListBuckets",
        "async": true,
        "parameters": [
          {
            "name": "parent",
            "type": "TYPE_STRING"
          },
          {
            "name": "page_size",
            "type": "TYPE_INT32"
          },
          {
            "name": "page_token",
            "type": "TYPE_STRING"
          },
          {
            "name": "prefix",
            "type": "TYPE_STRING"
          },
          {
            "name": "read_mask",
            "type": ".google.protobuf.FieldMask"
          },
          {
            "name": "return_partial_success",
            "type": "TYPE_BOOL"
          }
        ],
        "resultType": ".google.storage.v2.ListBucketsResponse",
        "client": {
          "shortName": "StorageClient",
          "fullName": "google.storage.v2.StorageClient"
        },
        "method": {
          "shortName": "ListBuckets",
          "fullName": "google.storage.v2.Storage.ListBuckets",
          "service": {
            "shortName": "Storage",
            "fullName": "google.storage.v2.Storage"
          }
        }
      }
    },
    {
      "regionTag": "storage_v2_generated_Storage_LockBucketRetentionPolicy_async",
      "title": "Storage lockBucketRetentionPolicy Sample",
      "origin": "API_DEFINITION",
      "description": " Permanently locks the retention policy that is currently applied to the specified bucket. Caution: Locking a bucket is an irreversible action. Once you lock a bucket: - You cannot remove the retention policy from the bucket. - You cannot decrease the retention period for the policy. Once locked, you must delete the entire bucket in order to remove the bucket's retention policy. However, before you can delete the bucket, you must delete all the objects in the bucket, which is only possible if all the objects have reached the retention period set by the retention policy. **IAM Permissions**: Requires `storage.buckets.update` IAM permission on the bucket.",
      "canonical": true,
      "file": "storage.lock_bucket_retention_policy.js",
      "language": "JAVASCRIPT",
      "segments": [
        {
          "start": 25,
          "end": 59,
          "type": "FULL"
        }
      ],
      "clientMethod": {
        "shortName": "LockBucketRetentionPolicy",
        "fullName": "google.storage.v2.Storage.LockBucketRetentionPolicy",
        "async": true,
        "parameters": [
          {
            "name": "bucket",
            "type": "TYPE_STRING"
          },
          {
            "name": "if_metageneration_match",
            "type": "TYPE_INT64"
          }
        ],
        "resultType": ".google.storage.v2.Bucket",
        "client": {
          "shortName": "StorageClient",
          "fullName": "google.storage.v2.StorageClient"
        },
        "method": {
          "shortName": "LockBucketRetentionPolicy",
          "fullName": "google.storage.v2.Storage.LockBucketRetentionPolicy",
          "service": {
            "shortName": "Storage",
            "fullName": "google.storage.v2.Storage"
          }
        }
      }
    },
    {
      "regionTag": "storage_v2_generated_Storage_UpdateBucket_async",
      "title": "Storage updateBucket Sample",
      "origin": "API_DEFINITION",
      "description": " Updates a bucket. Changes to the bucket are readable immediately after writing, but configuration changes might take time to propagate. This method supports `patch` semantics. **IAM Permissions**: Requires `storage.buckets.update` IAM permission on the bucket. Additionally, to enable specific bucket features, the authenticated user must have the following permissions: - To set bucket IP filtering rules: `storage.buckets.setIpFilter` - To update public access prevention policies or access control lists (ACLs): `storage.buckets.setIamPolicy`",
      "canonical": true,
      "file": "storage.update_bucket.js",
      "language": "JAVASCRIPT",
      "segments": [
        {
          "start": 25,
          "end": 86,
          "type": "FULL"
        }
      ],
      "clientMethod": {
        "shortName": "UpdateBucket",
        "fullName": "google.storage.v2.Storage.UpdateBucket",
        "async": true,
        "parameters": [
          {
            "name": "bucket",
            "type": ".google.storage.v2.Bucket"
          },
          {
            "name": "if_metageneration_match",
            "type": "TYPE_INT64"
          },
          {
            "name": "if_metageneration_not_match",
            "type": "TYPE_INT64"
          },
          {
            "name": "predefined_acl",
            "type": "TYPE_STRING"
          },
          {
            "name": "predefined_default_object_acl",
            "type": "TYPE_STRING"
          },
          {
            "name": "update_mask",
            "type": ".google.protobuf.FieldMask"
          }
        ],
        "resultType": ".google.storage.v2.Bucket",
        "client": {
          "shortName": "StorageClient",
          "fullName": "google.storage.v2.StorageClient"
        },
        "method": {
          "shortName": "UpdateBucket",
          "fullName": "google.storage.v2.Storage.UpdateBucket",
          "service": {
            "shortName": "Storage",
            "fullName": "google.storage.v2.Storage"
          }
        }
      }
    }
  ]
}
